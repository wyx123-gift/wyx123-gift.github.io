"use strict";

var canvas;
var gl;
var theta;
var a = 0;
var vertices = [
	//body
		-0.25,0,0,
		0.25,0,0,
		
		0.25,0,0,
		0.25,0.05,0,
		
		0.25,0.05,0,
		-0.25,0.05,0,
		
		-0.25,0.05,0,
		-0.25,0,0,
		
		-0.25,0,0,
		-0.3,-0.1,0,
		
		-0.3,-0.1,0,
		-0.2,-0.4,0,
		
		-0.2,-0.4,0,
		0.2,-0.4,0,
		
		0.2,-0.4,0,
		0.3,-0.1,0,
		
		0.3,-0.1,0,
		0.25,0,0,
		//foot
		-0.04,-0.4,0,
		-0.24,-0.4,0,
		
		-0.24,-0.4,0,
		-0.2,-0.48,0,
		
		-0.2,-0.48,0,
		-0.08,-0.48,0,
		
		-0.08,-0.48,0,
		-0.04,-0.4,0,
		//
		0.04,-0.4,0,
		0.24,-0.4,0,
		
		0.24,-0.4,0,
		0.2,-0.48,0,
		
		0.2,-0.48,0,
		0.08,-0.48,0,
		
		0.08,-0.48,0,
		0.04,-0.4,0,
		//袋子
		-0.16,-0.1,0,
		0.16,-0.1,0,
		
		0.16,-0.1,0,
		0.12,-0.2,0,
		
		0.12,-0.2,0,
		0,-0.24,0,
		
		0,-0.24,0,
		-0.12,-0.2,0,
		
		-0.12,-0.2,0,
		-0.16,-0.1,0,
		//手
		-0.3,-0.1,0,
		-0.5,0.03,0,
		
		-0.5,0.03,0,
		-0.5,0.06,0,
		
		-0.5,0.06,0,
		-0.25,0,0,
		//
		0.3,-0.1,0,
		0.5,0.03,0,
		
		0.5,0.03,0,
		0.5,0.06,0,
		
		0.5,0.06,0,
		0.25,0,0,
		//头
		-0.25,0.05,0,
		-0.37,0.15,0,
		
		-0.37,0.15,0,
		-0.29,0.35,0,
		
		-0.29,0.35,0,
		-0.32,0.45,0,
		
		-0.32,0.45,0,
		-0.17,0.38,0,
		
		-0.17,0.38,0,
		0,0.43,0,
		//
		0.25,0.05,0,
		0.37,0.15,0,
		
		0.37,0.15,0,
		0.29,0.35,0,
		
		0.29,0.35,0,
		0.32,0.45,0,
		
		0.32,0.45,0,
		0.17,0.38,0,
		
		0.17,0.38,0,
		0,0.43,0,
		//huzi
		-0.45,0.15,0,
		-0.3,0.15,0,
		
		-0.3,0.17,0,
		-0.45,0.2,0,
		
		-0.3,0.13,0,
		-0.45,0.1,0,
		//
		0.45,0.15,0,
		0.3,0.15,0,
		
		0.3,0.17,0,
		0.45,0.2,0,
		
		0.3,0.13,0,
		0.45,0.1,0,
		//眼睛
		-0.15,0.3,0,
		-0.1,0.23,0,
		
		-0.15,0.3,0,
		-0.2,0.23,0,
		//
		0.15,0.3,0,
		0.1,0.23,0,
		
		0.15,0.3,0,
		0.2,0.23,0,
		//嘴
		
		0,0.08,0,
		0.03,0.13,0,
		
		0.03,0.13,0,
		-0.03,0.13,0,
		
		-0.03,0.13,0,
		0,0.08,0,
		
		0,0.43,0,
		0,0.53,0,
		
		-0.05,0.53,0,
		0.05,0.53,0,
	];
	
function change(){
	if(a == 0){vertices = [
		//body
			-0.25,0,0,
			0.25,0,0,
			
			0.25,0,0,
			0.25,0.05,0,
			
			0.25,0.05,0,
			-0.25,0.05,0,
			
			-0.25,0.05,0,
			-0.25,0,0,
			
			-0.25,0,0,
			-0.3,-0.1,0,
			
			-0.3,-0.1,0,
			-0.2,-0.4,0,
			
			-0.2,-0.4,0,
			0.2,-0.4,0,
			
			0.2,-0.4,0,
			0.3,-0.1,0,
			
			0.3,-0.1,0,
			0.25,0,0,
			//foot
			-0.04,-0.4,0,
			-0.24,-0.4,0,
			
			-0.24,-0.4,0,
			-0.2,-0.48,0,
			
			-0.2,-0.48,0,
			-0.08,-0.48,0,
			
			-0.08,-0.48,0,
			-0.04,-0.4,0,
			//
			0.04,-0.4,0,
			0.24,-0.4,0,
			
			0.24,-0.4,0,
			0.2,-0.48,0,
			
			0.2,-0.48,0,
			0.08,-0.48,0,
			
			0.08,-0.48,0,
			0.04,-0.4,0,
			//袋子
			-0.16,-0.1,0,
			0.16,-0.1,0,
			
			0.16,-0.1,0,
			0.12,-0.2,0,
			
			0.12,-0.2,0,
			0,-0.24,0,
			
			0,-0.24,0,
			-0.12,-0.2,0,
			
			-0.12,-0.2,0,
			-0.16,-0.1,0,
			//手
			-0.3,-0.1,0,
			-0.5,0.03,0,
			
			-0.5,0.03,0,
			-0.5,0.06,0,
			
			-0.5,0.06,0,
			-0.25,0,0,
			//
			0.3,-0.1,0,
			0.5,0.03,0,
			
			0.5,0.03,0,
			0.5,0.06,0,
			
			0.5,0.06,0,
			0.25,0,0,
			//头
			-0.25,0.05,0,
			-0.37,0.15,0,
			
			-0.37,0.15,0,
			-0.29,0.35,0,
			
			-0.29,0.35,0,
			-0.32,0.45,0,
			
			-0.32,0.45,0,
			-0.17,0.38,0,
			
			-0.17,0.38,0,
			0,0.43,0,
			//
			0.25,0.05,0,
			0.37,0.15,0,
			
			0.37,0.15,0,
			0.29,0.35,0,
			
			0.29,0.35,0,
			0.32,0.45,0,
			
			0.32,0.45,0,
			0.17,0.38,0,
			
			0.17,0.38,0,
			0,0.43,0,
			//huzi
			-0.45,0.15,0,
			-0.3,0.15,0,
			
			-0.3,0.17,0,
			-0.45,0.2,0,
			
			-0.3,0.13,0,
			-0.45,0.1,0,
			//
			0.45,0.15,0,
			0.3,0.15,0,
			
			0.3,0.17,0,
			0.45,0.2,0,
			
			0.3,0.13,0,
			0.45,0.1,0,
			//眼睛
			-0.15,0.3,0,
			-0.1,0.23,0,
			
			-0.15,0.3,0,
			-0.2,0.23,0,
			//
			// 0.15,0.3,0,
			// 0.1,0.23,0,
			
			// 0.15,0.3,0,
			// 0.2,0.23,0,
			
			0.1,0.265,0,
			0.2,0.3,0,
			
			0.1,0.265,0,
			0.2,0.265,0,
			
			0.1,0.265,0,
			0.2,0.23,0,
			//嘴
			
			0,0.08,0,
			0.03,0.13,0,
			
			0.03,0.13,0,
			-0.03,0.13,0,
			
			-0.03,0.13,0,
			0,0.08,0,
			
			0,0.43,0,
			0,0.53,0,
			
			-0.05,0.53,0,
			0.05,0.53,0,
		];
		a = 1;
		}
	else if(a == 1){
		vertices = [
			//body
				-0.25,0,0,
				0.25,0,0,
				
				0.25,0,0,
				0.25,0.05,0,
				
				0.25,0.05,0,
				-0.25,0.05,0,
				
				-0.25,0.05,0,
				-0.25,0,0,
				
				-0.25,0,0,
				-0.3,-0.1,0,
				
				-0.3,-0.1,0,
				-0.2,-0.4,0,
				
				-0.2,-0.4,0,
				0.2,-0.4,0,
				
				0.2,-0.4,0,
				0.3,-0.1,0,
				
				0.3,-0.1,0,
				0.25,0,0,
				//foot
				-0.04,-0.4,0,
				-0.24,-0.4,0,
				
				-0.24,-0.4,0,
				-0.2,-0.48,0,
				
				-0.2,-0.48,0,
				-0.08,-0.48,0,
				
				-0.08,-0.48,0,
				-0.04,-0.4,0,
				//
				0.04,-0.4,0,
				0.24,-0.4,0,
				
				0.24,-0.4,0,
				0.2,-0.48,0,
				
				0.2,-0.48,0,
				0.08,-0.48,0,
				
				0.08,-0.48,0,
				0.04,-0.4,0,
				//袋子
				-0.16,-0.1,0,
				0.16,-0.1,0,
				
				0.16,-0.1,0,
				0.12,-0.2,0,
				
				0.12,-0.2,0,
				0,-0.24,0,
				
				0,-0.24,0,
				-0.12,-0.2,0,
				
				-0.12,-0.2,0,
				-0.16,-0.1,0,
				//手
				-0.3,-0.1,0,
				-0.5,0.03,0,
				
				-0.5,0.03,0,
				-0.5,0.06,0,
				
				-0.5,0.06,0,
				-0.25,0,0,
				//
				0.3,-0.1,0,
				0.5,0.03,0,
				
				0.5,0.03,0,
				0.5,0.06,0,
				
				0.5,0.06,0,
				0.25,0,0,
				//头
				-0.25,0.05,0,
				-0.37,0.15,0,
				
				-0.37,0.15,0,
				-0.29,0.35,0,
				
				-0.29,0.35,0,
				-0.32,0.45,0,
				
				-0.32,0.45,0,
				-0.17,0.38,0,
				
				-0.17,0.38,0,
				0,0.43,0,
				//
				0.25,0.05,0,
				0.37,0.15,0,
				
				0.37,0.15,0,
				0.29,0.35,0,
				
				0.29,0.35,0,
				0.32,0.45,0,
				
				0.32,0.45,0,
				0.17,0.38,0,
				
				0.17,0.38,0,
				0,0.43,0,
				//huzi
				-0.45,0.15,0,
				-0.3,0.15,0,
				
				-0.3,0.17,0,
				-0.45,0.2,0,
				
				-0.3,0.13,0,
				-0.45,0.1,0,
				//
				0.45,0.15,0,
				0.3,0.15,0,
				
				0.3,0.17,0,
				0.45,0.2,0,
				
				0.3,0.13,0,
				0.45,0.1,0,
				//眼睛
				-0.15,0.3,0,
				-0.1,0.23,0,
				
				-0.15,0.3,0,
				-0.2,0.23,0,
				//
				0.15,0.3,0,
				0.1,0.23,0,
				
				0.15,0.3,0,
				0.2,0.23,0,
				//嘴
				
				0,0.08,0,
				0.03,0.13,0,
				
				0.03,0.13,0,
				-0.03,0.13,0,
				
				-0.03,0.13,0,
				0,0.08,0,
				
				0,0.43,0,
				0,0.53,0,
				
				-0.05,0.53,0,
				0.05,0.53,0,
			];
			a = 0;
	}
}
function playdraw(){
	canvas = document.getElementById("showcat");
	gl = WebGLUtils.setupWebGL( canvas );
	
	if( !gl ){
		alert( "WebGL isn't available" );
	}
	
	
	gl.viewport( 0, 0, canvas.width, canvas.height );
	gl.clearColor( 1.0, 1.0, 1.0, 1.0 );
	
	var program = initShaders( gl, "vertex-shader", "fragment-shader" );
	gl.useProgram( program );
	
	var vertexBuffer = gl.createBuffer();
	gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);
	gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);
	
	var vPosition = gl.getAttribLocation( program, "vPosition" );
	gl.vertexAttribPointer( vPosition, 3, gl.FLOAT, false, 0, 0 );
	gl.enableVertexAttribArray( vPosition );
	
	render();
	
}

function render(){
	gl.clear(gl.COLOR_BUFFER_BIT);
	gl.drawArrays(gl.LINES,0,vertices.length/3);
}